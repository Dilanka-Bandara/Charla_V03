{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useCallback } from 'react';\nimport websocketService from '../services/websocket';\nimport { useAuth } from '../contexts/AuthContext';\nexport const useWebSocket = onMessage => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  useEffect(() => {\n    if (user !== null && user !== void 0 && user.id) {\n      websocketService.connect(user.id);\n      return () => {\n        websocketService.disconnect();\n      };\n    }\n  }, [user]);\n  const subscribeToEvent = useCallback((event, callback) => {\n    websocketService.on(event, callback);\n    return () => websocketService.off(event, callback);\n  }, []);\n  const sendMessage = useCallback((roomId, message) => {\n    websocketService.sendMessage(roomId, message);\n  }, []);\n  const sendTyping = useCallback((roomId, isTyping) => {\n    websocketService.sendTyping(roomId, isTyping);\n  }, []);\n  const sendReaction = useCallback((roomId, messageId, reaction) => {\n    websocketService.sendReaction(roomId, messageId, reaction);\n  }, []);\n  const joinRoom = useCallback(roomId => {\n    websocketService.joinRoom(roomId);\n  }, []);\n  const leaveRoom = useCallback(roomId => {\n    websocketService.leaveRoom(roomId);\n  }, []);\n  return {\n    subscribeToEvent,\n    sendMessage,\n    sendTyping,\n    sendReaction,\n    joinRoom,\n    leaveRoom\n  };\n};\n_s(useWebSocket, \"435UQRQQkFLc11rKc5Z1BWDk7Y0=\", false, function () {\n  return [useAuth];\n});","map":{"version":3,"names":["useEffect","useCallback","websocketService","useAuth","useWebSocket","onMessage","_s","user","id","connect","disconnect","subscribeToEvent","event","callback","on","off","sendMessage","roomId","message","sendTyping","isTyping","sendReaction","messageId","reaction","joinRoom","leaveRoom"],"sources":["E:/Charla_V03/frontend/src/hooks/useWebSocket.js"],"sourcesContent":["import { useEffect, useCallback } from 'react';\r\nimport websocketService from '../services/websocket';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nexport const useWebSocket = (onMessage) => {\r\n  const { user } = useAuth();\r\n\r\n  useEffect(() => {\r\n    if (user?.id) {\r\n      websocketService.connect(user.id);\r\n\r\n      return () => {\r\n        websocketService.disconnect();\r\n      };\r\n    }\r\n  }, [user]);\r\n\r\n  const subscribeToEvent = useCallback((event, callback) => {\r\n    websocketService.on(event, callback);\r\n    return () => websocketService.off(event, callback);\r\n  }, []);\r\n\r\n  const sendMessage = useCallback((roomId, message) => {\r\n    websocketService.sendMessage(roomId, message);\r\n  }, []);\r\n\r\n  const sendTyping = useCallback((roomId, isTyping) => {\r\n    websocketService.sendTyping(roomId, isTyping);\r\n  }, []);\r\n\r\n  const sendReaction = useCallback((roomId, messageId, reaction) => {\r\n    websocketService.sendReaction(roomId, messageId, reaction);\r\n  }, []);\r\n\r\n  const joinRoom = useCallback((roomId) => {\r\n    websocketService.joinRoom(roomId);\r\n  }, []);\r\n\r\n  const leaveRoom = useCallback((roomId) => {\r\n    websocketService.leaveRoom(roomId);\r\n  }, []);\r\n\r\n  return {\r\n    subscribeToEvent,\r\n    sendMessage,\r\n    sendTyping,\r\n    sendReaction,\r\n    joinRoom,\r\n    leaveRoom\r\n  };\r\n};\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC9C,OAAOC,gBAAgB,MAAM,uBAAuB;AACpD,SAASC,OAAO,QAAQ,yBAAyB;AAEjD,OAAO,MAAMC,YAAY,GAAIC,SAAS,IAAK;EAAAC,EAAA;EACzC,MAAM;IAAEC;EAAK,CAAC,GAAGJ,OAAO,CAAC,CAAC;EAE1BH,SAAS,CAAC,MAAM;IACd,IAAIO,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEC,EAAE,EAAE;MACZN,gBAAgB,CAACO,OAAO,CAACF,IAAI,CAACC,EAAE,CAAC;MAEjC,OAAO,MAAM;QACXN,gBAAgB,CAACQ,UAAU,CAAC,CAAC;MAC/B,CAAC;IACH;EACF,CAAC,EAAE,CAACH,IAAI,CAAC,CAAC;EAEV,MAAMI,gBAAgB,GAAGV,WAAW,CAAC,CAACW,KAAK,EAAEC,QAAQ,KAAK;IACxDX,gBAAgB,CAACY,EAAE,CAACF,KAAK,EAAEC,QAAQ,CAAC;IACpC,OAAO,MAAMX,gBAAgB,CAACa,GAAG,CAACH,KAAK,EAAEC,QAAQ,CAAC;EACpD,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,WAAW,GAAGf,WAAW,CAAC,CAACgB,MAAM,EAAEC,OAAO,KAAK;IACnDhB,gBAAgB,CAACc,WAAW,CAACC,MAAM,EAAEC,OAAO,CAAC;EAC/C,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,UAAU,GAAGlB,WAAW,CAAC,CAACgB,MAAM,EAAEG,QAAQ,KAAK;IACnDlB,gBAAgB,CAACiB,UAAU,CAACF,MAAM,EAAEG,QAAQ,CAAC;EAC/C,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,YAAY,GAAGpB,WAAW,CAAC,CAACgB,MAAM,EAAEK,SAAS,EAAEC,QAAQ,KAAK;IAChErB,gBAAgB,CAACmB,YAAY,CAACJ,MAAM,EAAEK,SAAS,EAAEC,QAAQ,CAAC;EAC5D,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,QAAQ,GAAGvB,WAAW,CAAEgB,MAAM,IAAK;IACvCf,gBAAgB,CAACsB,QAAQ,CAACP,MAAM,CAAC;EACnC,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMQ,SAAS,GAAGxB,WAAW,CAAEgB,MAAM,IAAK;IACxCf,gBAAgB,CAACuB,SAAS,CAACR,MAAM,CAAC;EACpC,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACLN,gBAAgB;IAChBK,WAAW;IACXG,UAAU;IACVE,YAAY;IACZG,QAAQ;IACRC;EACF,CAAC;AACH,CAAC;AAACnB,EAAA,CA9CWF,YAAY;EAAA,QACND,OAAO;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}