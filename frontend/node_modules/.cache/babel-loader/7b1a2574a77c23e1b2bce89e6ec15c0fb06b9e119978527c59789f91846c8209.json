{"ast":null,"code":"import axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\nconst api = axios.create({\n  baseURL: `${API_URL}/api`,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Add token to requests\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// Auth APIs\nexport const register = async (username, email, password, fullName) => {\n  const response = await api.post('/auth/register', {\n    username,\n    email,\n    password,\n    full_name: fullName\n  });\n  return response.data;\n};\nexport const login = async (username, password) => {\n  const response = await api.post('/auth/login', {\n    username,\n    password\n  });\n  return response.data;\n};\n\n// User APIs\nexport const getCurrentUser = async () => {\n  const response = await api.get('/users/me');\n  return response.data;\n};\nexport const getAllUsers = async () => {\n  const response = await api.get('/users');\n  return response.data;\n};\nexport const updateProfile = async data => {\n  const response = await api.put('/users/me', data);\n  return response.data;\n};\nexport const uploadAvatar = async file => {\n  const formData = new FormData();\n  formData.append('file', file);\n  const response = await api.post('/users/upload-avatar', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n  return response.data;\n};\n\n// Room APIs\nexport const getRooms = async () => {\n  const response = await api.get('/rooms');\n  return response.data;\n};\nexport const createRoom = async data => {\n  const response = await api.post('/rooms', data);\n  return response.data;\n};\nexport const joinRoom = async roomId => {\n  const response = await api.post(`/rooms/${roomId}/join`);\n  return response.data;\n};\nexport const leaveRoom = async roomId => {\n  const response = await api.post(`/rooms/${roomId}/leave`);\n  return response.data;\n};\n\n// Message APIs\nexport const getRoomMessages = async (roomId, limit = 50, offset = 0, search = null) => {\n  const response = await api.get(`/messages/room/${roomId}`, {\n    params: {\n      limit,\n      offset,\n      search\n    }\n  });\n  return response.data;\n};\nexport const createMessage = async data => {\n  const response = await api.post('/messages', data);\n  return response.data;\n};\nexport const deleteMessage = async messageId => {\n  const response = await api.delete(`/messages/${messageId}`);\n  return response.data;\n};\nexport const addReaction = async (messageId, emoji) => {\n  const response = await api.post('/messages/reactions', {\n    message_id: messageId,\n    emoji\n  });\n  return response.data;\n};\nexport default api;","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","register","username","email","password","fullName","response","post","full_name","data","login","getCurrentUser","get","getAllUsers","updateProfile","put","uploadAvatar","file","formData","FormData","append","getRooms","createRoom","joinRoom","roomId","leaveRoom","getRoomMessages","limit","offset","search","params","createMessage","deleteMessage","messageId","delete","addReaction","emoji","message_id"],"sources":["E:/Charla_V03/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\r\n\r\nconst api = axios.create({\r\n  baseURL: `${API_URL}/api`,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Add token to requests\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\n// Auth APIs\r\nexport const register = async (username, email, password, fullName) => {\r\n  const response = await api.post('/auth/register', {\r\n    username,\r\n    email,\r\n    password,\r\n    full_name: fullName\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const login = async (username, password) => {\r\n  const response = await api.post('/auth/login', {\r\n    username,\r\n    password\r\n  });\r\n  return response.data;\r\n};\r\n\r\n// User APIs\r\nexport const getCurrentUser = async () => {\r\n  const response = await api.get('/users/me');\r\n  return response.data;\r\n};\r\n\r\nexport const getAllUsers = async () => {\r\n  const response = await api.get('/users');\r\n  return response.data;\r\n};\r\n\r\nexport const updateProfile = async (data) => {\r\n  const response = await api.put('/users/me', data);\r\n  return response.data;\r\n};\r\n\r\nexport const uploadAvatar = async (file) => {\r\n  const formData = new FormData();\r\n  formData.append('file', file);\r\n  const response = await api.post('/users/upload-avatar', formData, {\r\n    headers: { 'Content-Type': 'multipart/form-data' }\r\n  });\r\n  return response.data;\r\n};\r\n\r\n// Room APIs\r\nexport const getRooms = async () => {\r\n  const response = await api.get('/rooms');\r\n  return response.data;\r\n};\r\n\r\nexport const createRoom = async (data) => {\r\n  const response = await api.post('/rooms', data);\r\n  return response.data;\r\n};\r\n\r\nexport const joinRoom = async (roomId) => {\r\n  const response = await api.post(`/rooms/${roomId}/join`);\r\n  return response.data;\r\n};\r\n\r\nexport const leaveRoom = async (roomId) => {\r\n  const response = await api.post(`/rooms/${roomId}/leave`);\r\n  return response.data;\r\n};\r\n\r\n// Message APIs\r\nexport const getRoomMessages = async (roomId, limit = 50, offset = 0, search = null) => {\r\n  const response = await api.get(`/messages/room/${roomId}`, {\r\n    params: { limit, offset, search }\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const createMessage = async (data) => {\r\n  const response = await api.post('/messages', data);\r\n  return response.data;\r\n};\r\n\r\nexport const deleteMessage = async (messageId) => {\r\n  const response = await api.delete(`/messages/${messageId}`);\r\n  return response.data;\r\n};\r\n\r\nexport const addReaction = async (messageId, emoji) => {\r\n  const response = await api.post('/messages/reactions', {\r\n    message_id: messageId,\r\n    emoji\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}