{"ast":null,"code":"import React,{useState,useEffect}from'react';import{motion}from'framer-motion';import{FiPlus,FiLogOut,FiSearch}from'react-icons/fi';import{useAuth}from'../../contexts/AuthContext';import{getRooms}from'../../services/api';import Avatar from'../Common/Avatar';import ThemeToggle from'../Common/ThemeToggle';import RoomList from'./RoomList';import UserList from'./UserList';import CreateRoomModal from'./CreateRoomModal';import'./Sidebar.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Sidebar=_ref=>{let{currentRoom,onRoomChange}=_ref;const{user,logout}=useAuth();const[rooms,setRooms]=useState([]);const[activeTab,setActiveTab]=useState('rooms');const[showCreateRoom,setShowCreateRoom]=useState(false);const[searchQuery,setSearchQuery]=useState('');useEffect(()=>{loadRooms();},[]);const loadRooms=async()=>{try{const data=await getRooms();setRooms(data);}catch(error){console.error('Failed to load rooms:',error);}};const handleRoomCreated=newRoom=>{setRooms([...rooms,newRoom]);setShowCreateRoom(false);onRoomChange(newRoom);};const filteredRooms=rooms.filter(room=>room.name.toLowerCase().includes(searchQuery.toLowerCase()));return/*#__PURE__*/_jsxs(motion.div,{className:\"sidebar glass-card\",initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{duration:0.3},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-user\",children:[/*#__PURE__*/_jsx(Avatar,{user:user,size:\"md\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-user-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:user.username}),/*#__PURE__*/_jsx(\"p\",{children:user.email})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-actions\",children:[/*#__PURE__*/_jsx(ThemeToggle,{}),/*#__PURE__*/_jsx(\"button\",{className:\"icon-btn\",onClick:logout,title:\"Logout\",children:/*#__PURE__*/_jsx(FiLogOut,{size:20})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-search\",children:[/*#__PURE__*/_jsx(FiSearch,{size:18}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search rooms...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"tab \".concat(activeTab==='rooms'?'active':''),onClick:()=>setActiveTab('rooms'),children:\"Rooms\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab \".concat(activeTab==='users'?'active':''),onClick:()=>setActiveTab('users'),children:\"Users\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-content\",children:activeTab==='rooms'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(motion.button,{className:\"create-room-btn\",onClick:()=>setShowCreateRoom(true),whileHover:{scale:1.02},whileTap:{scale:0.98},children:[/*#__PURE__*/_jsx(FiPlus,{size:20}),\"Create Room\"]}),/*#__PURE__*/_jsx(RoomList,{rooms:filteredRooms,currentRoom:currentRoom,onRoomSelect:onRoomChange})]}):/*#__PURE__*/_jsx(UserList,{})}),showCreateRoom&&/*#__PURE__*/_jsx(CreateRoomModal,{onClose:()=>setShowCreateRoom(false),onRoomCreated:handleRoomCreated})]});};export default Sidebar;","map":{"version":3,"names":["React","useState","useEffect","motion","FiPlus","FiLogOut","FiSearch","useAuth","getRooms","Avatar","ThemeToggle","RoomList","UserList","CreateRoomModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Sidebar","_ref","currentRoom","onRoomChange","user","logout","rooms","setRooms","activeTab","setActiveTab","showCreateRoom","setShowCreateRoom","searchQuery","setSearchQuery","loadRooms","data","error","console","handleRoomCreated","newRoom","filteredRooms","filter","room","name","toLowerCase","includes","div","className","initial","x","opacity","animate","transition","duration","children","size","username","email","onClick","title","type","placeholder","value","onChange","e","target","concat","button","whileHover","scale","whileTap","onRoomSelect","onClose","onRoomCreated"],"sources":["E:/Charla_V03/frontend/src/components/Sidebar/Sidebar.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { FiPlus, FiLogOut, FiSearch } from 'react-icons/fi';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { getRooms } from '../../services/api';\r\nimport Avatar from '../Common/Avatar';\r\nimport ThemeToggle from '../Common/ThemeToggle';\r\nimport RoomList from './RoomList';\r\nimport UserList from './UserList';\r\nimport CreateRoomModal from './CreateRoomModal';\r\nimport './Sidebar.css';\r\n\r\nconst Sidebar = ({ currentRoom, onRoomChange }) => {\r\n  const { user, logout } = useAuth();\r\n  const [rooms, setRooms] = useState([]);\r\n  const [activeTab, setActiveTab] = useState('rooms');\r\n  const [showCreateRoom, setShowCreateRoom] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  useEffect(() => {\r\n    loadRooms();\r\n  }, []);\r\n\r\n  const loadRooms = async () => {\r\n    try {\r\n      const data = await getRooms();\r\n      setRooms(data);\r\n    } catch (error) {\r\n      console.error('Failed to load rooms:', error);\r\n    }\r\n  };\r\n\r\n  const handleRoomCreated = (newRoom) => {\r\n    setRooms([...rooms, newRoom]);\r\n    setShowCreateRoom(false);\r\n    onRoomChange(newRoom);\r\n  };\r\n\r\n  const filteredRooms = rooms.filter(room =>\r\n    room.name.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"sidebar glass-card\"\r\n      initial={{ x: -100, opacity: 0 }}\r\n      animate={{ x: 0, opacity: 1 }}\r\n      transition={{ duration: 0.3 }}\r\n    >\r\n      <div className=\"sidebar-header\">\r\n        <div className=\"sidebar-user\">\r\n          <Avatar user={user} size=\"md\" />\r\n          <div className=\"sidebar-user-info\">\r\n            <h3>{user.username}</h3>\r\n            <p>{user.email}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"sidebar-actions\">\r\n          <ThemeToggle />\r\n          <button \r\n            className=\"icon-btn\"\r\n            onClick={logout}\r\n            title=\"Logout\"\r\n          >\r\n            <FiLogOut size={20} />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"sidebar-search\">\r\n        <FiSearch size={18} />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search rooms...\"\r\n          value={searchQuery}\r\n          onChange={(e) => setSearchQuery(e.target.value)}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"sidebar-tabs\">\r\n        <button\r\n          className={`tab ${activeTab === 'rooms' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('rooms')}\r\n        >\r\n          Rooms\r\n        </button>\r\n        <button\r\n          className={`tab ${activeTab === 'users' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('users')}\r\n        >\r\n          Users\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"sidebar-content\">\r\n        {activeTab === 'rooms' ? (\r\n          <>\r\n            <motion.button\r\n              className=\"create-room-btn\"\r\n              onClick={() => setShowCreateRoom(true)}\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n            >\r\n              <FiPlus size={20} />\r\n              Create Room\r\n            </motion.button>\r\n            <RoomList\r\n              rooms={filteredRooms}\r\n              currentRoom={currentRoom}\r\n              onRoomSelect={onRoomChange}\r\n            />\r\n          </>\r\n        ) : (\r\n          <UserList />\r\n        )}\r\n      </div>\r\n\r\n      {showCreateRoom && (\r\n        <CreateRoomModal\r\n          onClose={() => setShowCreateRoom(false)}\r\n          onRoomCreated={handleRoomCreated}\r\n        />\r\n      )}\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}