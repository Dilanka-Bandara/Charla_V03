{"ast":null,"code":"import axios from'axios';const API_URL=process.env.REACT_APP_API_URL||'http://localhost:8000';const api=axios.create({baseURL:\"\".concat(API_URL,\"/api\"),headers:{'Content-Type':'application/json'}});// Add token to requests\napi.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;});// Auth APIs\nexport const register=async(username,email,password,fullName)=>{const response=await api.post('/auth/register',{username,email,password,full_name:fullName});return response.data;};export const login=async(username,password)=>{const response=await api.post('/auth/login',{username,password});return response.data;};// User APIs\nexport const getCurrentUser=async()=>{const response=await api.get('/users/me');return response.data;};export const getAllUsers=async()=>{const response=await api.get('/users');return response.data;};export const updateProfile=async data=>{const response=await api.put('/users/me',data);return response.data;};export const uploadAvatar=async file=>{const formData=new FormData();formData.append('file',file);const response=await api.post('/users/upload-avatar',formData,{headers:{'Content-Type':'multipart/form-data'}});return response.data;};// Room APIs\nexport const getRooms=async()=>{const response=await api.get('/rooms');return response.data;};export const createRoom=async data=>{const response=await api.post('/rooms',data);return response.data;};export const joinRoom=async roomId=>{const response=await api.post(\"/rooms/\".concat(roomId,\"/join\"));return response.data;};export const leaveRoom=async roomId=>{const response=await api.post(\"/rooms/\".concat(roomId,\"/leave\"));return response.data;};// Message APIs\nexport const getRoomMessages=async function(roomId){let limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:50;let offset=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let search=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;const response=await api.get(\"/messages/room/\".concat(roomId),{params:{limit,offset,search}});return response.data;};export const createMessage=async data=>{const response=await api.post('/messages',data);return response.data;};export const deleteMessage=async messageId=>{const response=await api.delete(\"/messages/\".concat(messageId));return response.data;};export const addReaction=async(messageId,emoji)=>{const response=await api.post('/messages/reactions',{message_id:messageId,emoji});return response.data;};export default api;","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","api","create","baseURL","concat","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","register","username","email","password","fullName","response","post","full_name","data","login","getCurrentUser","get","getAllUsers","updateProfile","put","uploadAvatar","file","formData","FormData","append","getRooms","createRoom","joinRoom","roomId","leaveRoom","getRoomMessages","limit","arguments","length","undefined","offset","search","params","createMessage","deleteMessage","messageId","delete","addReaction","emoji","message_id"],"sources":["E:/Charla_V03/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\r\n\r\nconst api = axios.create({\r\n  baseURL: `${API_URL}/api`,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Add token to requests\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\n// Auth APIs\r\nexport const register = async (username, email, password, fullName) => {\r\n  const response = await api.post('/auth/register', {\r\n    username,\r\n    email,\r\n    password,\r\n    full_name: fullName\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const login = async (username, password) => {\r\n  const response = await api.post('/auth/login', {\r\n    username,\r\n    password\r\n  });\r\n  return response.data;\r\n};\r\n\r\n// User APIs\r\nexport const getCurrentUser = async () => {\r\n  const response = await api.get('/users/me');\r\n  return response.data;\r\n};\r\n\r\nexport const getAllUsers = async () => {\r\n  const response = await api.get('/users');\r\n  return response.data;\r\n};\r\n\r\nexport const updateProfile = async (data) => {\r\n  const response = await api.put('/users/me', data);\r\n  return response.data;\r\n};\r\n\r\nexport const uploadAvatar = async (file) => {\r\n  const formData = new FormData();\r\n  formData.append('file', file);\r\n  const response = await api.post('/users/upload-avatar', formData, {\r\n    headers: { 'Content-Type': 'multipart/form-data' }\r\n  });\r\n  return response.data;\r\n};\r\n\r\n// Room APIs\r\nexport const getRooms = async () => {\r\n  const response = await api.get('/rooms');\r\n  return response.data;\r\n};\r\n\r\nexport const createRoom = async (data) => {\r\n  const response = await api.post('/rooms', data);\r\n  return response.data;\r\n};\r\n\r\nexport const joinRoom = async (roomId) => {\r\n  const response = await api.post(`/rooms/${roomId}/join`);\r\n  return response.data;\r\n};\r\n\r\nexport const leaveRoom = async (roomId) => {\r\n  const response = await api.post(`/rooms/${roomId}/leave`);\r\n  return response.data;\r\n};\r\n\r\n// Message APIs\r\nexport const getRoomMessages = async (roomId, limit = 50, offset = 0, search = null) => {\r\n  const response = await api.get(`/messages/room/${roomId}`, {\r\n    params: { limit, offset, search }\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const createMessage = async (data) => {\r\n  const response = await api.post('/messages', data);\r\n  return response.data;\r\n};\r\n\r\nexport const deleteMessage = async (messageId) => {\r\n  const response = await api.delete(`/messages/${messageId}`);\r\n  return response.data;\r\n};\r\n\r\nexport const addReaction = async (messageId, emoji) => {\r\n  const response = await api.post('/messages/reactions', {\r\n    message_id: messageId,\r\n    emoji\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}